{"version":3,"sources":["components/Controls.jsx","components/MoviesList.jsx","components/SessionsList.jsx","App.jsx","index.js"],"names":["ControlsStyled","styled","div","Controls","onShowAllMovies","onShowAllSessions","search","onInput","onSelect","onFindMovie","onSearchById","onSearchSessionById","style","marginBottom","className","type","placeholder","value","onChange","onFocus","e","target","defaultValue","onClick","marginLeft","MoviesListStyled","MovieSingle","MoviesList","moviesList","length","Array","isArray","map","movie","idx","key","name","src","pictureLink","title","alt","description","SessionsListStyled","SessionsList","props","_handleOrder","event","data","dataset","onBookTicket","state","movies","sessions","sessionsList","session","fetch","movie_id","then","response","json","setState","this","Fragment","places","place","row","position","data-movie-id","data-row-id","_id","data-position","data-is-free","isFree","Component","App","url","genres","_handleInput","_handleSelect","_findMovie","catch","error","console","_showAllMovies","_showAllSessions","_searchById","_searchSessionById","_bookTicket","movieId","rowId","params","movieShow_id","row_id","place_position","method","headers","body","JSON","stringify","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ea116aef.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ControlsStyled = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 50px 0;\r\n  border-bottom: 1px solid #ccc;\r\n  .select {\r\n    padding: 0 12px;\r\n    height: 30px;\r\n    font-size: 16px;\r\n    border: 1px solid #aaa;\r\n    border-radius: 6px;\r\n  }\r\n  .btn {\r\n    padding: 0 12px;\r\n    height: 30px;\r\n    font-size: 16px;\r\n    border: 1px solid #aaa;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    background-color: #fff;\r\n    margin-left: 2px;\r\n  }\r\n  .search__input {\r\n    width: 320px;\r\n    height: 30px;\r\n    padding: 0 12px;\r\n    font-size: 16px;\r\n    border: 1px solid #aaa;\r\n    border-radius: 6px;\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Controls = ({\r\n  onShowAllMovies,\r\n  onShowAllSessions,\r\n  search,\r\n  onInput,\r\n  onSelect,\r\n  onFindMovie,\r\n  onSearchById,\r\n  onSearchSessionById\r\n}) => (\r\n  <ControlsStyled>\r\n    <div style={{ marginBottom: \"10px\" }}>\r\n      <input\r\n        className=\"search__input\"\r\n        type=\"text\"\r\n        placeholder=\"Search...\"\r\n        value={search}\r\n        onChange={onInput}\r\n        onFocus={e => (e.target.value = \"\")}\r\n      />\r\n    </div>\r\n    <div>\r\n      <select className=\"select\" defaultValue=\"0\" onChange={onSelect}>\r\n        <option value=\"0\">Action</option>\r\n        <option value=\"1\">Adventures</option>\r\n        <option value=\"2\">Comedy</option>\r\n        <option value=\"3\">Drama</option>\r\n        <option value=\"4\">Horror</option>\r\n        <option value=\"5\">Westerns</option>\r\n      </select>\r\n      <button className=\"btn\" onClick={onFindMovie}>\r\n        Search movie\r\n      </button>\r\n\r\n      <button\r\n        className=\"btn\"\r\n        onClick={onSearchById}\r\n        style={{ marginLeft: \"10px\" }}\r\n      >\r\n        Get movie by id\r\n      </button>\r\n      <button className=\"btn\" onClick={onSearchSessionById}>\r\n        Get sessions by id\r\n      </button>\r\n\r\n      <button\r\n        className=\"btn\"\r\n        onClick={onShowAllMovies}\r\n        style={{ marginLeft: \"10px\" }}\r\n      >\r\n        Get all movies\r\n      </button>\r\n      <button className=\"btn\" onClick={onShowAllSessions}>\r\n        Get all movies sessions\r\n      </button>\r\n    </div>\r\n  </ControlsStyled>\r\n);\r\n\r\nexport default Controls;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst MoviesListStyled = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-gap: 20px;\r\n  padding: 50px 30px;\r\n  max-width: 1180px;\r\n  margin: 0 auto;\r\n  .movies__item {\r\n    display: flex;\r\n    flex-direction: column;\r\n    &__title {\r\n      text-transform: uppercase;\r\n      font-weight: bold;\r\n      margin-bottom: 10px;\r\n    }\r\n    &__img {\r\n      border-radius: 8px;\r\n      width: 100%;\r\n      height: 300px;\r\n      object-fit: cover;\r\n      display: block;\r\n      margin-bottom: 10px;\r\n    }\r\n    &__descr {\r\n      font-size: 14px;\r\n      color: #666;\r\n    }\r\n  }\r\n`;\r\n\r\nconst MovieSingle = styled.div`\r\n  .movie {\r\n    padding: 50px 30px;\r\n    max-width: 800px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    &__info {\r\n      margin-right: 10px;\r\n    }\r\n    &__title {\r\n      max-width: 300px;\r\n      text-transform: uppercase;\r\n      font-weight: bold;\r\n      margin-bottom: 10px;\r\n    }\r\n    &__img {\r\n      border-radius: 8px;\r\n      width: 300px;\r\n      height: 400px;\r\n      object-fit: cover;\r\n      display: block;\r\n    }\r\n    &__descr {\r\n      margin-top: 21px;\r\n      font-size: 14px;\r\n      color: #666;\r\n    }\r\n  }\r\n`;\r\n\r\nconst MoviesList = ({ moviesList }) => {\r\n  if (moviesList.length === 0) {\r\n    return <MoviesListStyled>No movies found...</MoviesListStyled>;\r\n  }\r\n  if (Array.isArray(moviesList)) {\r\n    return (\r\n      <MoviesListStyled>\r\n        {moviesList.map((movie, idx) => {\r\n          return (\r\n            <div className=\"movies__item\" key={idx}>\r\n              <div className=\"movies__item__title\">{movie.name}</div>\r\n              <img\r\n                className=\"movies__item__img\"\r\n                src={movie.pictureLink}\r\n                title={movie.name}\r\n                alt={movie.name}\r\n              />\r\n              <div className=\"movies__item__descr\">{movie.description}</div>\r\n            </div>\r\n          );\r\n        })}\r\n      </MoviesListStyled>\r\n    );\r\n  }\r\n  return (\r\n    <MovieSingle>\r\n      <div className=\"movie\">\r\n        <div className=\"movie__info\">\r\n          <div className=\"movie__title\">{moviesList.name}</div>\r\n          <img\r\n            className=\"movie__img\"\r\n            src={moviesList.pictureLink}\r\n            title={moviesList.name}\r\n            alt={moviesList.name}\r\n          />\r\n        </div>\r\n        <div className=\"movie__descr\">{moviesList.description}</div>\r\n      </div>\r\n    </MovieSingle>\r\n  );\r\n};\r\n\r\nexport default MoviesList;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SessionsListStyled = styled.div`\r\n  padding: 50px 30px;\r\n  max-width: 1180px;\r\n  margin: 0 auto;\r\n  .session {\r\n    & + .session {\r\n      margin-top: 20px;\r\n    }\r\n  }\r\n  .movie__title {\r\n    text-transform: uppercase;\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n  }\r\n  .places {\r\n    display: grid;\r\n    grid-template-columns: repeat(5, 1fr);\r\n  }\r\n  .place {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n  }\r\n  .row {\r\n    padding: 5px;\r\n  }\r\n`;\r\n\r\nclass SessionsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { movies: {} };\r\n    const { sessionsList: sessions } = this.props;\r\n    if (Array.isArray(sessions)) {\r\n      sessions.map(session =>\r\n        fetch(\r\n          `https://cinema-api-test.herokuapp.com/movies?movie_id=${session.movie_id}`\r\n        )\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            const { movies } = this.state;\r\n            movies[session.movie_id] = data.name;\r\n            this.setState({ movies });\r\n          })\r\n      );\r\n    } else {\r\n      fetch(\r\n        `https://cinema-api-test.herokuapp.com/movies?movie_id=${sessions.movie_id}`\r\n      )\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          const { movies } = this.state;\r\n          movies[sessions.movie_id] = data.name;\r\n          this.setState({ movies });\r\n        });\r\n    }\r\n  }\r\n  _handleOrder = event => {\r\n    const data = event.target.dataset\r\n    this.props.onBookTicket(data)\r\n  };\r\n\r\n  render() {\r\n    const { sessionsList: sessions } = this.props;\r\n    if (Array.isArray(sessions)) {\r\n      return (\r\n        <React.Fragment>\r\n          <SessionsListStyled>\r\n            {sessions.map((session, idx) => {\r\n              return (\r\n                <div className=\"session\" key={idx}>\r\n                  <div className=\"movie__title\">\r\n                    {this.state.movies[session.movie_id]}\r\n                  </div>\r\n                  <div className=\"places\">\r\n                    {session.places.map((place, idx) => {\r\n                      return (\r\n                        <div className=\"place\" key={idx}>\r\n                          {place.map((row, idx) => {\r\n                            return (\r\n                              <div className=\"row\" key={idx}>\r\n                                Position: {row.position}{\" \"}\r\n                                <button\r\n                                  onClick={this._handleOrder}\r\n                                  data-movie-id={session.movie_id}\r\n                                  data-row-id={row._id}\r\n                                  data-position={row.position}\r\n                                  data-is-free={row.isFree}\r\n                                >\r\n                                  Order\r\n                                </button>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </SessionsListStyled>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    return (\r\n      <SessionsListStyled>\r\n        <div className=\"session\">\r\n          <div className=\"movie__title\">\r\n            {this.state.movies[sessions.movie_id]}\r\n          </div>\r\n          <div className=\"places\">\r\n            {sessions.places.map((place, idx) => {\r\n              return (\r\n                <div className=\"place\" key={idx}>\r\n                  {place.map((row, idx) => {\r\n                    return (\r\n                      <div className=\"row\" key={idx}>\r\n                        Position: {row.position}{\" \"}\r\n                        <button onClick={this._handleOrder}>Order</button>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </SessionsListStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SessionsList;\r\n","import React, { Component } from \"react\";\n\nimport \"./App.css\";\nimport Controls from \"./components/Controls\";\nimport MoviesList from \"./components/MoviesList\";\nimport SessionsList from \"./components/SessionsList\";\n\nclass App extends Component {\n  state = {\n    url: \"https://cinema-api-test.herokuapp.com\",\n    search: \"\",\n    genres: \"0\",\n    moviesList: \"\",\n    sessionsList: \"\",\n  };\n\n  _handleInput = event => {\n    const search = event.target.value;\n    this.setState({\n      search\n    });\n  };\n\n  _handleSelect = event => {\n    const genres = event.target.value;\n    this.setState({\n      genres\n    });\n  }\n\n  _findMovie = () => {\n    const { url, search, genres } = this.state;\n    this.setState({ search: \"\", moviesList: null, sessionsList: null });\n    fetch(`${url}/movies/find?name=${search}&genres=${genres}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ moviesList: data });\n      })\n      .catch(error => console.error(error));\n  }\n\n  _showAllMovies = () => {\n    const { url } = this.state;\n    this.setState({ search: \"\", moviesList: null, sessionsList: null });\n    fetch(`${url}/movies`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ moviesList: data });\n      })\n      .catch(error => console.error(error));\n  };\n\n  _showAllSessions = () => {\n    const { url } = this.state;\n    this.setState({ search: \"\", moviesList: null, sessionsList: null });\n    fetch(`${url}/movieShows`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ sessionsList: data });\n      })\n      .catch(error => console.error(error));\n  };\n\n  _searchById = () => {\n    const { url, search } = this.state;\n    if (!search) return false;\n    this.setState({ search: \"\", moviesList: null, sessionsList: null });\n    fetch(`${url}/movies?movie_id=${search}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ moviesList: data });\n      })\n      .catch(error => console.error(error));\n  };\n\n  _searchSessionById = () => {\n    const { url, search } = this.state;\n    if (!search) return false;\n    this.setState({ search: \"\", moviesList: null, sessionsList: null });\n    fetch(`${url}/movieShows?movie_id=${search}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ sessionsList: data });\n      })\n      .catch(error => console.error(error));\n  };\n\n  _bookTicket = ({movieId, rowId, position, isFree}) => {\n    const { url } = this.state;\n    const params = {\n      movieShow_id: movieId,\n      row_id: rowId,\n      place_position: position,\n      isFree: isFree\n    };\n    fetch(`${url}/bookingPlace`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json;charset=utf-8\"\n      },\n      body: JSON.stringify(params)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(data);\n      })\n      .catch(error => console.error(error));\n  };\n\n  render() {\n    const { search, moviesList, sessionsList } = this.state;\n\n    return (\n      <React.Fragment>\n        <Controls\n          search={search}\n          onInput={this._handleInput}\n          onSelect={this._handleSelect}\n          onFindMovie={this._findMovie}\n          onShowAllMovies={this._showAllMovies}\n          onShowAllSessions={this._showAllSessions}\n          onSearchById={this._searchById}\n          onSearchSessionById={this._searchSessionById}\n        />\n        {moviesList && <MoviesList moviesList={moviesList} />}\n        {sessionsList && (\n          <SessionsList\n            sessionsList={sessionsList}\n            onBookTicket={this._bookTicket}\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}